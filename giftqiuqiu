<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>ç»™ç§‹ç§‹çš„å®šåˆ¶ç¥ç§˜ç¤¼ç‰© ğŸ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --popup-life: 2200ms;   /* æ¯ä¸ªå¼¹çª—å­˜åœ¨å¤šä¹… */
    }
    body{
      margin:0;
      height:100vh;
      background:#f9f5ef;
      font-family: "PingFang SC","Microsoft Yahei",system-ui,-apple-system,Segoe UI,Arial;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      overflow:hidden;
    }
    h2{ margin:0 0 18px; color:#333; }
    .btn{
      padding:14px 24px; font-size:18px; color:#fff; background:#ff9bb3;
      border:0; border-radius:12px; cursor:pointer; box-shadow:0 6px 20px rgba(255,155,179,.35);
      transition:transform .1s ease,filter .2s ease;
    }
    .btn:active{ transform:scale(.98); filter:brightness(.95); }
    /* å¼¹çª—å¡ç‰‡æ ·å¼ */
    .popup{
      position:fixed;
      max-width:min(80vw, 420px);
      background:#fff;
      border-radius:16px;
      padding:14px 18px;
      font-size:16px;
      box-shadow:0 10px 28px rgba(0,0,0,.15);
      animation: popIn .28s ease-out, fadeOut var(--popup-life) linear forwards;
      pointer-events:none;   /* è®©å®ƒä¸æŒ¡ç‚¹å‡» */
      white-space:nowrap;
    }
    /* è¿›åœºå°å¼¹ä¸€ä¸‹ */
    @keyframes popIn{
      from{ transform:translate(-50%,-50%) scale(.7); opacity:0; }
      to  { transform:translate(-50%,-50%) scale(1);  opacity:1; }
    }
    /* ç”Ÿå‘½å‘¨æœŸç»“æŸå‰ 20% å¼€å§‹æ·¡å‡ºå¹¶ä¸Šæµ®ä¸€ç‚¹ */
    @keyframes fadeOut{
      0%,80% { opacity:1; }
      100%   { opacity:0; transform:translate(-50%,-58%) scale(.98); }
    }
    /* ä¸åŒæŸ”è‰²èƒŒæ™¯ï¼ˆéšæœºæŒ‘ï¼‰ */
    .c1{ background:#fff7f8; }
    .c2{ background:#f5fbff; }
    .c3{ background:#f6fff6; }
    .c4{ background:#fffaf2; }
    .c5{ background:#f7f4ff; }
    .tag{
      display:inline-block; margin-right:6px; padding:2px 8px; border-radius:999px;
      font-size:12px; background:rgba(0,0,0,.06);
    }
  </style>
</head>
<body>
  <h2>ğŸ’Œç»™ä¹–ä¹–çš„å°æƒŠå–œ</h2>
  <button class="btn" id="fire">ç‚¹æˆ‘é¢†å– ğŸ</button>

  <script>
    // â‘  æƒ³è¯´çš„è¯ï¼ˆå¯è‡ªç”±å¢åˆ ï¼‰
    const messages = [
      "è¦ç›¸ä¿¡è‡ªå·±å“¦ ğŸ’ª",
      "æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡ âœ¨",
      "å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœ ğŸ§£",
      "å¥½å¥½çˆ±è‡ªå·± â¤ï¸",
      "æˆ‘æƒ³ä½ äº† ğŸ¥°",
      "é‡‘æ¦œé¢˜å ğŸ†",
      "ä¿æŒå¥½å¿ƒæƒ… ğŸŒˆ",
      "æ„¿ä½ ä¸€åˆ‡é¡ºåˆ© ğŸ€",
      "åŠªåŠ›çš„ä½ æœ€å¯çˆ± ğŸ’–",
      "ä»Šå¤©ä¹Ÿè¦ç¬‘ä¸€ç¬‘ ğŸ˜„",
      "æ—©ç‚¹ä¼‘æ¯ä¸ç†¬å¤œ â°",
      "å¤šå–çƒ­æ°´ä¹Ÿè¦è¿åŠ¨ ğŸƒâ€â™€ï¸",
      "ç¥ä½ è¢«æ¸©æŸ”ä»¥å¾… ğŸŒŸ",
      "ä¸€åˆ‡éƒ½ä¼šå˜å¥½å“’ ğŸŒ»",
      "è®°å¾—åƒæ—©é¤å‘€ ğŸ¥",
      "ç§‹ç§‹ï¼Œé˜³å…‰ç¿çƒ‚æ¯ä¸€å¤©ï½",
"å¦¹å¦¹ï¼Œç¬‘å®¹è¦å¸¸åœ¨ï½",
"ä¹–ä¹–ï¼Œå¿«ä¹å¤šä¸€ç‚¹ï½",
"å¥½å¥½åƒé¥­ï¼Œèƒƒæ‰å¼€å¿ƒï½",
"æ—©ç‚¹ç¡è§‰ï¼Œæ¢¦æ‰é¦™ç”œï½",
"ç§‹ç§‹ï¼Œä»Šå¤©è¶…æœ‰é­…åŠ›ï½",
"å¦¹å¦¹ï¼Œå¿ƒæƒ…è¦äº®äº®çš„ï½",
"ä¹–ä¹–ï¼Œå…ƒæ°”æ— é™åŠ æ»¡ï½",
"è®°å¾—å¤šå–æ°´ï¼Œçš®è‚¤å¥½å¥½ï½",
"ä¼¸ä¸ªæ‡’è…°ï¼Œæ”¾æ¾èº«å¿ƒï½",
"ç§‹ç§‹ï¼Œä»Šå¤©ä¹Ÿè¦è‡ªä¿¡ï½",
"å¦¹å¦¹ï¼Œç¬‘ä¸€ç¬‘å¥½è¿åˆ°ï½",
"ä¹–ä¹–ï¼Œå¹¸ç¦å¤©å¤©ç»•ï½",
"æŒ‰æ—¶åƒé¥­ï¼Œåˆ«é¥¿åè‚šè‚šï½",
"æ—©ç‚¹ä¼‘æ¯ï¼Œæ˜å¤©æ›´é—ªäº®ï½",
"ç§‹ç§‹ï¼Œä»Šå¤©çœŸå¯çˆ±ï½",
"å¦¹å¦¹ï¼Œå¥½äº‹è¦å‘ç”Ÿå•¦ï½",
"ä¹–ä¹–ï¼Œç»§ç»­å‘å…‰å‘çƒ­ï½",
"åƒé¥­è®¤çœŸç‚¹ï¼Œèƒ½é‡æ»¡æ»¡ï½",
"æ—©ç‚¹ä¼‘æ¯ï¼Œç²¾ç¥ç™¾å€ï½",
"ç§‹ç§‹ï¼Œå¿«ä¹ä¸æ‰“çƒŠï½",
"å¦¹å¦¹ï¼Œå…ƒæ°”æ¥æŠ¥é“ï½",
"ä¹–ä¹–ï¼Œå¥½æ¢¦è¦è¿è¿ï½",
"å–å£çƒ­æ°´ï¼Œæš–æš–å¿ƒçªï½",
"ä¼¸ä¼¸èƒ³è†Šï¼Œæ”¾æ¾ä¸€ä¸‹ï½",
"ç§‹ç§‹ï¼Œä»Šå¤©ä¹Ÿè¦å‹‡æ•¢ï½",
"å¦¹å¦¹ï¼Œå¾®ç¬‘æœ€è¿·äººï½",
"ä¹–ä¹–ï¼Œå¹¸ç¦å°±è¦æ¥ï½",
"å¥½å¥½åƒé¥­ï¼Œåˆ«æŒ‘é£Ÿå“¦ï½",
"æ—©ç‚¹å…¥ç¡ï¼Œæ¢¦é‡Œç”œç”œï½"
    ];

    // â‘¡ å‘å°„å‚æ•°ï¼ˆåƒæ¸¸æˆéš¾åº¦å¼€å…³ï¼‰
    const BURST_COUNT = 300;     // ä¸€æ¬¡ç‚¹å‡»è¦å†’å‡ºå¤šå°‘æ¡
    const INTERVAL_MS = 150;    // ä¸¤æ¡ä¹‹é—´éš”å¤šä¹…ï¼ˆè¶Šå°è¶Šå¯†é›†ï¼‰
    const LIFE_MS = 2200;       // æ¯æ¡å¡ç‰‡åœç•™å¤šä¹…ï¼ˆå’Œä¸Šé¢CSS --popup-life å¯¹åº”ï¼‰

    // å·¥å…·ï¼šéšæœºæ•´æ•° [a,b]
    const rnd = (a,b)=> Math.floor(Math.random()*(b-a+1))+a;

    // éšæœºä»æ•°ç»„æ‹¿ä¸€ä¸ª
    function pick(arr){ return arr[rnd(0,arr.length-1)]; }

    // ç”Ÿæˆä¸€æ¡å¼¹çª—
    function makePopup(text){
      const div = document.createElement('div');
      div.className = 'popup ' + pick(['c1','c2','c3','c4','c5']);

      // éšæœºç»™ä¸€ç‚¹â€œæç¤ºæ ‡ç­¾â€çš„æ„Ÿè§‰ï¼ˆå¯ä¸è¦ï¼‰
      if(Math.random()<0.45){
        const tag = document.createElement('span');
        tag.className = 'tag';
        tag.textContent = pick(['æç¤º','åŠ æ²¹','å°å¿ƒæƒ…','ä»Šæ—¥ç­¾','æš–å¿ƒ']);
        div.appendChild(tag);
      }
      const span = document.createElement('span');
      span.textContent = ' ' + text;
      div.appendChild(span);

      // éšæœºä½ç½®ï¼šé¿å¼€å±å¹•å››å‘¨ 10% çš„å®‰å…¨è¾¹è·
      const vw = window.innerWidth, vh = window.innerHeight;
      const x = rnd(12, 88);  // ç™¾åˆ†æ¯”
      const y = rnd(15, 85);

      // å±‚çº§ä¸å¾®æ—‹è½¬
      div.style.left = x + 'vw';
      div.style.top  = y + 'vh';
      div.style.transform = 'translate(-50%,-50%) rotate(' + rnd(-4,4) + 'deg)';
      div.style.zIndex = String(1000 + Date.now()%100000);

      // åŠ¨ç”»ç”Ÿå‘½å‘¨æœŸåŒæ­¥åˆ° CSS å˜é‡
      div.style.animationDuration = `.28s, ${LIFE_MS}ms`;

      document.body.appendChild(div);

      // åˆ°æ—¶é—´ç§»é™¤
      setTimeout(()=> div.remove(), LIFE_MS + 60);
    }

    // è¿ç»­å‘å°„ä¸€æ³¢
    function burst(){
      // å¯é€‰ï¼šæŒ‰é’®åœ¨å‘å°„æœŸé—´ç¦ç”¨ï¼Œé˜²æ­¢è¯¯è¿ç‚¹
      const btn = document.getElementById('fire');
      btn.disabled = true; btn.textContent = 'å‘é€ä¸­â€¦';

      let n = 0;
      const timer = setInterval(()=>{
        // æ¯æ¬¡éšæœºæŒ‘ä¸€å¥
        makePopup(pick(messages));
        n++;
        if(n >= BURST_COUNT){
          clearInterval(timer);
          // å°å»¶æ—¶æ¢å¤æŒ‰é’®
          setTimeout(()=>{ btn.disabled=false; btn.textContent='ç‚¹æˆ‘é¢†å– ğŸ'; }, 400);
        }
      }, INTERVAL_MS);
    }

    document.getElementById('fire').addEventListener('click', burst);

    // å¯é€‰ï¼šé¡µé¢åˆšæ‰“å¼€æ—¶å…ˆè‡ªåŠ¨æ¥ä¸€å°æ³¢
    // setTimeout(burst, 800);
  </script>
</body>
</html>
